<!DOCTYPE html>
<html lang="bg">

<head>
    <meta charset="UTF-8">
    <title>Вашият Генетичен Отчет - Genetic Test</title>
    <meta content='maximum-scale=1.0, initial-scale=1.0, width=device-width' name='viewport'>
    <link rel="icon" href="/img/fingerprint-scan.png" type="image/icon type">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
        integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="styles.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <header>
        <section class="above-navigation">
            <div class="container">
                <div class="row py-4 d-flex">
                    <div class="col-md-6 align-self-center">
                        <a class="text-decoration-none" href="index.html">
                            <p class="display-6 d-inline">Genetic test – Svishtov</p>
                        </a>
                        <p class="pt-1"> Биометрично изследване, основано на науката дерматоглифика</p>
                    </div>
                    <div class="col-md-2 px-4 v-divider align-self-center d-none d-lg-block d-xl-block">
                        <p class="lead d-inline"><i class="fas fa-map-marker-alt p-1"></i><b> България</b></p>
                        <p>гр. Свищов, 5250</p>
                    </div>
                    <div class="col-md-2 px-4 v-divider align-self-center d-none d-lg-block d-xl-block">
                        <p class="lead d-inline"><i class="fas fa-phone p-1"></i><b>9:00-18:00ч.</b></p>
                        <p>Понеделник-Събота</p>
                    </div>
                    <div class="col-md-2 px-4 v-divider align-self-center d-none d-lg-block d-xl-block">
                        <p class="lead d-inline"><i class="fa fa-envelope px-2"></i><b>genetictest</b></p>
                        <p>-sv@abv.bg</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="navigation container">
            <nav class="navbar navbar-expand-lg navbar-light py-4">
                <div>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto ps-0 mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Начало</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown"
                                aria-expanded="false">Услуги
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <li><a class="dropdown-item" href="services1.html">Безплатно Онлайн Тестване</a></li>
                                <li class="dropdown-divider">
                                    <hr>
                                </li>
                                <li><a class="dropdown-item" href="services2.html">Раздел - Модел за самореализация</a></li>
                                <li><a class="dropdown-item" href="services3.html">Раздел - Професионална дейност</a></li>
                                <li><a class="dropdown-item" href="services4.html">Раздел - Тип Темперамент</a></li>
                                <li class="dropdown-divider">
                                    <hr>
                                </li>
                                <li><a class="dropdown-item" href="services5.html">Тестване от експерт</a></li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="help.html">Помощна страница</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="contact.html" tabindex="-1" aria-disabled="true">Контакти</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </section>
    </header>

    <section class="container my-5">
        <div class="row justify-content-center">
            <div class="col-md-10">
                <!-- Report Header -->
                <div class="text-center mb-5">
                    <h1 class="display-4 text-primary mb-3">
                        <i class="fas fa-file-alt me-3"></i>
                        Вашият Генетичен Отчет
                    </h1>
                    <p class="lead">Базирано на анализа на вашите пръстови отпечатъци</p>
                    <hr class="my-4">
                </div>

                <!-- Personal Information -->
                <div class="card shadow mb-4">
                    <div class="card-header bg-primary text-white">
                        <h3 class="card-title mb-0">
                            <i class="fas fa-user-circle me-2"></i>
                            Лични данни
                        </h3>
                    </div>
                    <div class="card-body">
                        <div class="row g-3">
                            <div class="col-md-4">
                                <!-- Сиво правоъгълно с икона/силует -->
                                <div class="text-center p-4 bg-light rounded border h-100 d-flex flex-column justify-content-between align-items-center" style="min-height: 220px;">
                                    <div class="flex-grow-1 d-flex flex-column justify-content-center align-items-center">
                                        <!-- Генериран силует символ -->
                                        <div id="gender-silhouette" class="d-flex align-items-center justify-content-center rounded-circle mb-3" style="width: 100px; height: 100px; background: linear-gradient(135deg, #e9ecef, #dee2e6); border: 3px solid #666;">
                                            <img id="gender-avatar" src="data/placeholder.jpg" alt="Силует" style="width: 95px; height: 95px; object-fit: cover; border-radius: 50%;">
                                        </div>
                                        <div class="text-muted small fw-bold">ЛИЧЕН ПРОФИЛ</div>
                                    </div>
                                    <div class="mt-auto">
                                        <div class="text-muted fw-bold small mb-1">ДАТА</div>
                                        <div id="report-date" class="small fw-semibold">13 декември 2025 г.</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <!-- Форма с лични данни -->
                                <div class="bg-light rounded border p-4 h-100 d-flex flex-column justify-content-between" style="min-height: 220px;">
                                    <!-- Горна част - основни данни -->
                                    <div class="flex-grow-1">
                                        <!-- Ред 1: ИМЕ / ФАМИЛИЯ -->
                                        <div class="mb-3">
                                            <label class="form-label text-muted fw-bold small mb-2">ИМЕ / ФАМИЛИЯ</label>
                                            <div class="border-bottom border-2" id="report-name" style="padding: 8px 0; font-size: 16px; min-height: 24px;">______________________________</div>
                                        </div>

                                        <!-- Ред 2: ВЪЗРАСТ -->
                                        <div class="mb-3">
                                            <label class="form-label text-muted fw-bold small mb-2">ВЪЗРАСТ</label>
                                            <div class="border-bottom border-2 d-flex align-items-center" style="padding: 8px 0; min-height: 24px;">
                                                <div id="report-age" class="flex-grow-1" style="font-size: 16px;">______</div>
                                                <span class="text-muted ms-2 small">години</span>
                                            </div>
                                        </div>

                                    </div>

                                    <!-- Долна част - допълнителни данни -->
                                    <div class="mt-auto">
                                        <!-- ИМЕЙЛ поле -->
                                        <div class="mb-3">
                                            <label class="form-label text-muted fw-bold small mb-2">ИМЕЙЛ</label>
                                            <div class="border-bottom border-2 d-flex align-items-center" style="padding: 8px 0; min-height: 24px;">
                                                <div id="report-email" class="flex-grow-1" style="font-size: 16px;">___________________________</div>
                                            </div>
                                        </div>

                                        <!-- ПОЛ -->
                                        <div>
                                            <label class="form-label text-muted fw-bold small mb-1">ПОЛ</label>
                                            <div id="report-gender" class="small fw-semibold">Неопределен</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Fingerprint Analysis -->
                <div class="card shadow mb-4">
                    <div class="card-header bg-success text-white">
                        <h3 class="card-title mb-0">
                            <i class="fas fa-fingerprint me-2"></i>
                            Вашата пръстова формула
                        </h3>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-success mb-4">
                            <h6><i class="fas fa-info-circle me-2"></i>Важна информация за вашия отчет</h6>
                            <p class="mb-2"><strong>Този отчет има приложимо значение само и единствено за вас.</strong></p>
                            <p class="mb-2">Въз основа на вашият стандартен биометричен отчет, тук ще намерите подробна интерпретация и анализ за вашата пръстова формула.</p>
                            <p class="mb-0">Моля да имате в предвид, че в отчета се говори за характеристиките, заложени на генетично ниво. Процентните стойности в отчета показват до каква степен вашите дерматоглифски признаци съвпадат с признаците на тези хора, които притежават даденото качество.</p>
                        </div>

                        <div class="row">
                            <!-- Лява ръка -->
                            <div class="col-md-6">
                                <div class="bg-light rounded p-3 mb-3">
                                    <h5 class="text-center mb-3 text-success">
                                        <i class="fas fa-hand-paper me-2"></i>
                                        Лява ръка
                                    </h5>
                                    <div class="finger-list">
                                        <div class="d-flex align-items-center mb-2 p-2 bg-white rounded border">
                                            <div class="finger-icon me-3">
                                                <i class="fas fa-circle text-muted" style="font-size: 24px;"></i>
                                            </div>
                                            <div class="flex-grow-1">
                                                <strong>Палец:</strong>
                                                <span id="left-thumb-pattern" class="badge bg-secondary ms-1">Дъга - Палатка</span>
                                            </div>
                                        </div>

                                        <div class="d-flex align-items-center mb-2 p-2 bg-white rounded border">
                                            <div class="finger-icon me-3">
                                                <i class="fas fa-circle text-muted" style="font-size: 24px;"></i>
                                            </div>
                                            <div class="flex-grow-1">
                                                <strong>Показалец:</strong>
                                                <span id="left-index-pattern" class="badge bg-secondary ms-1">Дъга - Палатка</span>
                                            </div>
                                        </div>

                                        <div class="d-flex align-items-center mb-2 p-2 bg-white rounded border">
                                            <div class="finger-icon me-3">
                                                <i class="fas fa-circle text-muted" style="font-size: 24px;"></i>
                                            </div>
                                            <div class="flex-grow-1">
                                                <strong>Среден:</strong>
                                                <span id="left-middle-pattern" class="badge bg-secondary ms-1">Дъга - Палатка</span>
                                            </div>
                                        </div>

                                        <div class="d-flex align-items-center mb-2 p-2 bg-white rounded border">
                                            <div class="finger-icon me-3">
                                                <i class="fas fa-circle text-muted" style="font-size: 24px;"></i>
                                            </div>
                                            <div class="flex-grow-1">
                                                <strong>Безимен:</strong>
                                                <span id="left-ring-pattern" class="badge bg-primary ms-1">R-Примка</span>
                                            </div>
                                        </div>

                                        <div class="d-flex align-items-center mb-2 p-2 bg-white rounded border">
                                            <div class="finger-icon me-3">
                                                <i class="fas fa-circle text-muted" style="font-size: 24px;"></i>
                                            </div>
                                            <div class="flex-grow-1">
                                                <strong>Кутре:</strong>
                                                <span id="left-pinky-pattern" class="badge bg-secondary ms-1">Дъга - Палатка</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Дясна ръка -->
                            <div class="col-md-6">
                                <div class="bg-light rounded p-3 mb-3">
                                    <h5 class="text-center mb-3 text-success">
                                        <i class="fas fa-hand-paper me-2"></i>
                                        Дясна ръка
                                    </h5>
                                    <div class="finger-list">
                                        <div class="d-flex align-items-center mb-2 p-2 bg-white rounded border">
                                            <div class="finger-icon me-3">
                                                <i class="fas fa-circle text-muted" style="font-size: 24px;"></i>
                                            </div>
                                            <div class="flex-grow-1">
                                                <strong>Палец:</strong>
                                                <span id="right-thumb-pattern" class="badge bg-danger ms-1">Спирала</span>
                                            </div>
                                        </div>

                                        <div class="d-flex align-items-center mb-2 p-2 bg-white rounded border">
                                            <div class="finger-icon me-3">
                                                <i class="fas fa-circle text-muted" style="font-size: 24px;"></i>
                                            </div>
                                            <div class="flex-grow-1">
                                                <strong>Показалец:</strong>
                                                <span id="right-index-pattern" class="badge bg-primary ms-1">L-Примка</span>
                                            </div>
                                        </div>

                                        <div class="d-flex align-items-center mb-2 p-2 bg-white rounded border">
                                            <div class="finger-icon me-3">
                                                <i class="fas fa-circle text-muted" style="font-size: 24px;"></i>
                                            </div>
                                            <div class="flex-grow-1">
                                                <strong>Среден:</strong>
                                                <span id="right-middle-pattern" class="badge bg-primary ms-1">R-Примка</span>
                                            </div>
                                        </div>

                                        <div class="d-flex align-items-center mb-2 p-2 bg-white rounded border">
                                            <div class="finger-icon me-3">
                                                <i class="fas fa-circle text-muted" style="font-size: 24px;"></i>
                                            </div>
                                            <div class="flex-grow-1">
                                                <strong>Безимен:</strong>
                                                <span id="right-ring-pattern" class="badge bg-primary ms-1">R-Примка</span>
                                            </div>
                                        </div>

                                        <div class="d-flex align-items-center mb-2 p-2 bg-white rounded border">
                                            <div class="finger-icon me-3">
                                                <i class="fas fa-circle text-muted" style="font-size: 24px;"></i>
                                            </div>
                                            <div class="flex-grow-1">
                                                <strong>Кутре:</strong>
                                                <span id="right-pinky-pattern" class="badge bg-secondary ms-1">Дъга - Палатка</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Обща информация -->
                        <div class="mt-3 p-3 bg-light rounded">
                            <div class="row text-center">
                                <div class="col-md-3">
                                    <div class="text-muted small">Общ брой пръсти</div>
                                    <div class="h4 text-success">10</div>
                                </div>
                                <div class="col-md-3">
                                    <div class="text-muted small">Дерматоглифична формула</div>
                                    <div class="h4 text-primary" id="dermatoglyphic-formula">1:5:4</div>
                                </div>
                                <div class="col-md-3">
                                    <div class="text-muted small">Тип ръце</div>
                                    <div class="h4 text-info">Смесен</div>
                                </div>
                                <div class="col-md-3">
                                    <div class="text-muted small">Делта индекс</div>
                                    <div class="h4 text-warning" id="delta-index">0</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Education Type Analysis -->
                <div class="card shadow mb-4">
                    <div class="card-header bg-primary text-white">
                        <h3 class="card-title mb-0">
                            <i class="fas fa-graduation-cap me-2"></i>
                            Тип образование - Анализ на показатели
                        </h3>
                    </div>
                    <div class="alert alert-primary mb-3">
                        <small class="text-muted">Даденият показаател показва най-подходящото за вас профилно образование, което да съчетава вашите нужди и възможности.</small>
                    </div>
                    <div class="card-body">
                        <div id="education-types-container"></div>
                        <div class="alert alert-info">
                            <strong>Препоръка:</strong> Най-подходящи са технически и природонаучни специалности с елементи на динамично мислене и практическо приложение. Добри възможности в инженерството, компютърните науки и приложните природни науки.
                        </div>
                    </div>
                </div>

                <!-- Professional Directions Analysis -->
                <div class="card shadow mb-4">
                    <div class="card-header bg-success text-white">
                        <h3 class="card-title mb-0">
                            <i class="fas fa-compass me-2"></i>
                            Направления на професионална дейност - Анализ на показатели
                        </h3>
                    </div>
                    <div class="alert alert-success mb-3">
                        <h6 class="text-center mb-3"><strong>ПРОФЕСИЯТА СЕ СЪСТОИ ОТ ТРИ КОМПОНЕНТА - НАСОКА, СФЕРА, МОДЕЛ</strong></h6>
                        <small class="text-muted">Вероятно е, че всеки от нас би искал всеки ден да ходи на работа с удоволствие, да постига впечатляващи резултати и да се усъвършенства. За съжаление не на всеки му се отдава. Изборът на професия, която не съответства на особеностите на мисленето и характера на човека, може да предизвика постоянно недоволство от работата и получените резултати. Затова е много важно да се подходи внимателно към определянето на професионалнатото направление.</small>
                        <br><br>
                        <small class="text-muted">В този раздел са посочени качествата, които ще Ви помогнат да постигнете успех в работата си. Това са направленията на професионална дейност, в които следва да изградите кариерата си. Направлението на професионална дейност посочва къде Вие ще постигнете максимален успех, а сферата на професионалната дейност помага да разберете как можете да го направите.</small>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <div class="text-center">
                                    <div class="chart-container" style="position: relative; height: 200px;">
                                        <canvas id="directionsChart"></canvas>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h6 style="font-size: 1.2em; font-weight: bold;">Анализ</h6>
                                <div class="progress report-progress mb-2" style="height: 1.2rem;">
                                    <div class="progress-bar bg-warning" role="progressbar" id="directions-analysis" style="width: 90%; font-size: 1.1em;" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100">90%</div>
                                </div>
                                <p class="text-muted mb-3" style="font-size: 1.05em;">Способност за логическо мислене и решаване на сложни проблеми</p>

                                <h6>Практика</h6>
                                <div class="progress report-progress mb-2">
                                    <div class="progress-bar bg-success" role="progressbar" id="directions-practice" style="width: 85%" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100">85%</div>
                                </div>
                                <p class="text-muted small mb-3">Практическа ориентация и ефективно прилагане на знанията</p>

                                <h6 style="font-size: 0.85em;">Комуникации</h6>
                                <div class="progress report-progress mb-2" style="height: 0.6rem;">
                                    <div class="progress-bar bg-primary" role="progressbar" id="directions-communication" style="width: 75%; font-size: 0.75em;" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">75%</div>
                                </div>
                                <p class="text-muted small mb-3" style="font-size: 0.8em;">Умения за ефективно общуване и работа в екип</p>
                            </div>
                        </div>
                        <div class="alert alert-success mt-3">
                            <strong>Основно направление:</strong> Динамична практическа дейност с висока предразположеност към аналитична работа и ефективни комуникации. Идеални за позиции, изискващи бързи решения, практически умения и аналитично мислене.
                        </div>
                    </div>
                </div>

                <!-- Professional Spheres Analysis -->
                <div class="card shadow mb-4">
                    <div class="card-header bg-info text-white">
                        <h3 class="card-title mb-0">
                            <i class="fas fa-building me-2"></i>
                            Сфери на професионална дейност - Анализ на показатели
                        </h3>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-info mb-4">
                            <h6><i class="fas fa-info-circle me-2"></i>Обяснение</h6>
                            <p class="mb-0">В този раздел са посочени сферите на дейност, които допълват показателите от предишния раздел. Представени са някои по-тесни области на професионалната дейност. Разбира се, че те не обхващат всички възможни сфери на работа, но предлагат насока за развитие.</p>
                        </div>
                        <div class="row mb-4">
                            <div class="col-md-6 mb-3">
                                <div class="text-center">
                                    <div class="chart-container" style="position: relative; height: 200px;">
                                        <canvas id="spheresChart"></canvas>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h6 style="font-size: 1.2em; font-weight: bold;">Иновации (85%) <span class="badge bg-primary ms-2">Най-висок показател</span></h6>
                                <p class="text-muted mb-2" style="font-size: 1.1em;"><strong>Висока предразположеност към иновативна дейност</strong></p>
                                <small class="text-muted" style="font-size: 0.95em;">Внедряване на нови идеи, технологични решения, стартъпи</small>
                                <p class="text-muted mt-1 mb-4" style="font-size: 1.05em;">Кариери в сферата на иновациите включват разработка на нови продукти, стартиране на бизнес, технологични иновации и предприемачество. Необходими качества: висока креативност, аналитично мислене, рискова толерантност, адаптивност към промени, лидерски способности и визия за бъдещето.</p>

                                <h6 style="font-size: 0.9em;">Творчество (78%)</h6>
                                <p class="text-muted small mb-2" style="font-size: 0.85em;">Добри творчески способности и въображение</p>
                                <small class="text-muted" style="font-size: 0.8em;">Изкуство, дизайн, креативни проекти, маркетинг</small>
                                <p class="text-muted small mt-1 mb-4" style="font-size: 0.85em;">Творческата сфера включва артистични професии, дизайн и маркетинг. Необходими качества: въображение, експресивност и оригинално мислене.</p>

                                <h6 style="font-size: 0.85em;">Спорт (72%)</h6>
                                <p class="text-muted small mb-2" style="font-size: 0.8em;">Спортистки наклонности и физическа активност</p>
                                <small class="text-muted" style="font-size: 0.75em;">Спортна дейност, треньорство, спортен мениджмънт</small>
                                <p class="text-muted small mt-1 mb-0" style="font-size: 0.8em;">Спортната сфера включва професионален спорт, треньорство и спортен мениджмънт. Необходими качества: физическа издръжливост, дисциплина и конкурентен дух.</p>
                            </div>
                        </div>
                        <div class="alert alert-primary mt-3">
                            <strong>Препоръка:</strong> Най-висока предразположеност показвате към сферата на иновациите (85%). Това е областта, в която ще постигнете максимален успех и удовлетворение от работата си.
                        </div>
                    </div>
                </div>

                <!-- Self-Realization Model Analysis -->
                <div class="card shadow mb-4">
                    <div class="card-header bg-warning text-dark">
                        <h3 class="card-title mb-0">
                            <i class="fas fa-target me-2"></i>
                            Модел за самореализация - Анализ на показатели
                        </h3>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-warning mb-4">
                            <h6><i class="fas fa-lightbulb me-2"></i>Обяснение</h6>
                            <p class="mb-0">Моделът за самореализация показва вашите предпочитания към различни стилове на работа и подходи към проблемите. Той включва три основни компонента: комуникация, практика и анализ, които определят как най-добре се реализирате в професионалната сфера.</p>
                        </div>
                        <div class="row">
                            <div class="col-md-8" id="selfrealization-indicators"></div>
                            <div class="col-md-4">
                                <div class="text-center">
                                    <div class="chart-container" style="position: relative; height: 200px;">
                                        <canvas id="selfRealizationChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="alert alert-warning mt-3">
                            <strong>Вашият модел:</strong> Динамичен експресивен тип с висока ефективност в ситуации, изискващи бързи решения и адаптивност. Комбинирате системен подход с творческо мислене.
                        </div>
                    </div>
                </div>

                <!-- Health Analysis -->
                <div class="card shadow mb-4">
                    <div class="card-header bg-danger text-white">
                        <h3 class="card-title mb-0">
                            <i class="fas fa-heartbeat me-2"></i>
                            Здраве - Рискови фактори - Анализ на показатели
                        </h3>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-danger mb-4">
                            <h6><i class="fas fa-exclamation-triangle me-2"></i>Важно за вашето здраве</h6>
                            <p class="mb-0">Този анализ показва потенциалните рискове за вашето здраве въз основа на дерматоглифичните показатели. Високите проценти в рисковите фактори (като стрес) изискват особено внимание и превантивни мерки.</p>
                        </div>
                        <div class="row mb-4">
                            <div class="col-md-6 mb-3">
                                <div class="text-center">
                                    <div class="chart-container" style="position: relative; height: 200px;">
                                        <canvas id="healthChart"></canvas>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h6>Риск от стрес <span class="badge bg-danger ms-2">Висок риск</span></h6>
                                <p class="text-muted small mb-2"><strong>Среден риск при продължителна интензивна работа</strong></p>
                                <p class="text-muted small mb-4">Вашият показател за стрес е 65%, което изисква внимателно управление на работното натоварване и редовни почивки.</p>

                                <h6>Имунна система</h6>
                                <p class="text-muted small mb-2">Добра устойчивост на организма</p>
                                <p class="text-muted small mb-4">Имунната ви система показва добри резултати (78%), което е положителен фактор за общото здраве.</p>

                                <h6>Нервна система</h6>
                                <p class="text-muted small mb-2">Добра устойчивост, но нужда от почивка</p>
                                <p class="text-muted small mb-4">Нервната система е стабилна (72%), но се нуждае от баланс между активност и почивка.</p>

                                <h6>Физическа издръжливост</h6>
                                <p class="text-muted small mb-2">Средна физическа издръжливост</p>
                                <p class="text-muted small mb-0">Физическата издръжливост е на средно ниво (68%), препоръчва се умерена физическа активност.</p>
                            </div>
                        </div>
                        <div class="alert alert-danger">
                            <strong>Препоръки:</strong> Редовни почивки за управление на възбудимата нервна система, балансирано хранене, умерена физическа активност. Избягвайте продължителен стрес. Добра регенерация, но се нуждаете от почивка.
                        </div>
                    </div>
                </div>

                <!-- Sports Analysis -->
                <div class="card shadow mb-4">
                    <div class="card-header bg-primary text-white">
                        <h3 class="card-title mb-0">
                            <i class="fas fa-running me-2"></i>
                            Спорт - Анализ на показатели
                        </h3>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-primary mb-4">
                            <h6><i class="fas fa-trophy me-2"></i>Вашите спортни предразположености</h6>
                            <p class="mb-0">Този анализ показва към кои видове спорт имате най-големи заложби въз основа на вашите дерматоглифични характеристики. Спортът не само поддържа здравето, но и развива ценни личностни качества.</p>
                        </div>
                        <div class="row mb-4">
                            <div class="col-md-6 mb-3">
                                <div class="text-center">
                                    <div class="chart-container" style="position: relative; height: 200px;">
                                        <canvas id="sportsChart"></canvas>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h6>Интелектуални спортове <span class="badge bg-primary ms-2">Най-висок показател</span></h6>
                                <p class="text-muted small mb-2"><strong>Отлични резултати - 92%</strong></p>
                                <p class="text-muted small mb-4">Шах, бридж, стратегически игри. Развиват логическото мислене и концентрацията.</p>

                                <h6>Индивидуални спортове</h6>
                                <p class="text-muted small mb-2">Добри резултати - 78%</p>
                                <p class="text-muted small mb-4">Тенис, плуване, гимнастика. Идеални за самостоятелна работа и дисциплина.</p>

                                <h6>Командни спортове</h6>
                                <p class="text-muted small mb-2">По-нисък показател - 45%</p>
                                <p class="text-muted small mb-0">Футбол, баскетбол, волейбол. Изискват добра координация в екип.</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card border-primary mb-3">
                                    <div class="card-body text-center">
                                        <i class="fas fa-running fa-3x text-primary mb-3"></i>
                                        <h6>Леко атлетика (спринт)</h6>
                                        <small class="text-muted">Най-подходящ спорт - скоростно-силови качества (нападател в отборни спортове)</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card border-success mb-3">
                                    <div class="card-body text-center">
                                        <i class="fas fa-fist-raised fa-3x text-success mb-3"></i>
                                        <h6>Бокс/Бойни изкуства</h6>
                                        <small class="text-muted">Отличен избор - координация и бързи реакции</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                            <div class="col-md-6">
                                <div class="card border-primary mb-3">
                                    <div class="card-body text-center">
                                        <i class="fas fa-running fa-3x text-primary mb-3"></i>
                                        <h6>Леко атлетика (спринт)</h6>
                                        <small class="text-muted">Най-подходящ спорт - скоростно-силови качества (нападател в отборни спортове)</small>
                                    </div>
                                </div>
                                <div class="card border-success mb-3">
                                    <div class="card-body text-center">
                                        <i class="fas fa-fist-raised fa-3x text-success mb-3"></i>
                                        <h6>Бокс/Бойни изкуства</h6>
                                        <small class="text-muted">Отличен избор - координация и бързи реакции</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Nervous System Potential -->
                <div class="card shadow mb-4">
                    <div class="card-header bg-info text-white">
                        <h3 class="card-title mb-0">
                            <i class="fas fa-brain me-2"></i>
                            Потенциал на нервната система - Анализ на показатели
                        </h3>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-info mb-4">
                            <h6><i class="fas fa-brain me-2"></i>Вашата нервна система</h6>
                            <p class="mb-0">Нервната система е основата на вашата умствена и емоционална ефективност. Тези показатели отразяват способността ви да се концентрирате, реагирате бързо и се адаптирате към предизвикателства.</p>
                        </div>
                        <div class="row mb-4">
                            <div class="col-md-6 mb-3">
                                <div class="text-center">
                                    <div class="chart-container" style="position: relative; height: 200px;">
                                        <canvas id="nervousSystemChart"></canvas>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h6>Концентрация <span class="badge bg-primary ms-2">Най-висок показател</span></h6>
                                <p class="text-muted small mb-2"><strong>Отлична концентрация - 88%</strong></p>
                                <p class="text-muted small mb-4">Висока способност за продължителна концентрация и задълбочена работа с детайли.</p>

                                <h6>Бързина на реакция</h6>
                                <p class="text-muted small mb-2">Добра скорост - 72%</p>
                                <p class="text-muted small mb-4">Добра скорост на обработка на информация и вземане на решения.</p>

                                <h6>Стресоустойчивост</h6>
                                <p class="text-muted small mb-2">Средна устойчивост - 68%</p>
                                <p class="text-muted small mb-4">Средна устойчивост на стресови ситуации, нужда от баланс.</p>

                                <h6>Адаптивност</h6>
                                <p class="text-muted small mb-2">Добра адаптивност - 75%</p>
                                <p class="text-muted small mb-0">Добра способност за адаптация към промени и нови ситуации.</p>
                            </div>
                        </div>
                        <div class="alert alert-info">
                            <strong>Тип нервна система:</strong> Силен тип с добра работоспособност при системна дейност.
                        </div>
                    </div>
                </div>

                <!-- Behavioral Adaptation Type -->
                <div class="card shadow mb-4">
                    <div class="card-header bg-success text-white">
                        <h3 class="card-title mb-0">
                            <i class="fas fa-adjust me-2"></i>
                            Тип поведенческа адаптация - Анализ на показатели
                        </h3>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-success mb-4">
                            <h6><i class="fas fa-adjust me-2"></i>Как се адаптирате към промените</h6>
                            <p class="mb-0">Типът поведенческа адаптация показва как реагирате на промени и нови ситуации. Това определя вашия стил на приспособяване към предизвикателства и нови условия.</p>
                        </div>
                        <div class="row mb-4">
                            <div class="col-md-6 mb-3">
                                <div class="text-center">
                                    <div class="chart-container" style="position: relative; height: 200px;">
                                        <canvas id="adaptationChart"></canvas>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h6>Системна адаптация <span class="badge bg-success ms-2">Най-висок показател</span></h6>
                                <p class="text-muted small mb-2"><strong>Отлична системност - 91%</strong></p>
                                <p class="text-muted small mb-4">Предпочитате планирани и системни промени, стъпка по стъпка адаптация към нови условия.</p>

                                <h6>Гъвкава адаптация</h6>
                                <p class="text-muted small mb-2">Добра гъвкавост - 67%</p>
                                <p class="text-muted small mb-4">Способни сте да се адаптирате бързо към промени, когато е необходимо.</p>

                                <h6>Консервативна адаптация</h6>
                                <p class="text-muted small mb-2">По-ниска консервативност - 43%</p>
                                <p class="text-muted small mb-0">Предпочитате стабилност и се адаптирате по-бавно към големи промени.</p>
                            </div>
                        </div>
                        <div class="alert alert-success mt-3">
                            <strong>Вашият тип:</strong> Динамична системна адаптация - предпочитате бързи, експресивни промени с висока степен на адаптивност към нови ситуации.
                        </div>
                    </div>
                </div>

                <!-- Temperament Analysis -->
                <div class="card shadow mb-4">
                    <div class="card-header bg-warning text-dark">
                        <h3 class="card-title mb-0">
                            <i class="fas fa-fire me-2"></i>
                            Темперамент - Анализ на показатели
                        </h3>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-warning mb-4">
                            <h6><i class="fas fa-fire me-2"></i>Вашият темперамент</h6>
                            <p class="mb-0">Темпераментът определя вашия естествен начин на реагиране, емоционалност и енергичност. Той влияе върху начина, по който общувате, работите и се справяте със стресови ситуации.</p>
                        </div>
                        <div class="row mb-4">
                            <div class="col-md-6 mb-3">
                                <div class="text-center">
                                    <div class="chart-container" style="position: relative; height: 200px;">
                                        <canvas id="temperamentChart"></canvas>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h6>Сангвиничен <span class="badge bg-warning ms-2">Доминиращ темперамент</span></h6>
                                <p class="text-muted small mb-2"><strong>Най-висок показател - 72%</strong></p>
                                <p class="text-muted small mb-4">Жизнерадостен, общителен, енергичен. Лесно се адаптирате към нови ситуации и хора.</p>

                                <h6>Флегматичен</h6>
                                <p class="text-muted small mb-2">Спокоен тип - 68%</p>
                                <p class="text-muted small mb-4">Спокоен, уравновесен, надежден. Предпочитате стабилност и планираност.</p>

                                <h6>Холеричен</h6>
                                <p class="text-muted small mb-2">Енергичен тип - 68%</p>
                                <p class="text-muted small mb-4">Импулсивен, енергичен, решителен. Бързи реакции и силна воля.</p>

                                <h6>Меланхоличен</h6>
                                <p class="text-muted small mb-2">Аналитичен тип - 25%</p>
                                <p class="text-muted small mb-0">Ниска емоционалност, склонност към анализ. Дълбоки чувства и внимание към детайли.</p>
                            </div>
                        </div>
                        <div class="alert alert-warning">
                            <strong>Вашият темперамент:</strong> Холерично-сангвиничен с елементи на експлозивност. Комбинация от динамика, адаптивност и практичност.
                        </div>
                    </div>
                </div>

                <!-- News Perception Type -->
                <div class="card shadow mb-4">
                    <div class="card-header bg-secondary text-white">
                        <h3 class="card-title mb-0">
                            <i class="fas fa-lightbulb me-2"></i>
                            Тип възприемане на новости - Анализ на показатели
                        </h3>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-secondary mb-4">
                            <h6><i class="fas fa-lightbulb me-2"></i>Как възприемате новостите</h6>
                            <p class="mb-0">Типът възприемане на новости показва как обработвате и интерпретирате нова информация. Това определя вашия подход към учене, решаване на проблеми и адаптация към промени.</p>
                        </div>
                        <div class="row mb-4">
                            <div class="col-md-6 mb-3">
                                <div class="text-center">
                                    <div class="chart-container" style="position: relative; height: 200px;">
                                        <canvas id="newsPerceptionChart"></canvas>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h6>Аналитично възприемане <span class="badge bg-primary ms-2">Най-силно развито</span></h6>
                                <p class="text-muted small mb-2"><strong>Отличен аналитичен подход - 89%</strong></p>
                                <p class="text-muted small mb-4">Задълбочено анализирате информацията, търсите логика и систематизирате знанията преди да вземете решения.</p>

                                <h6>Практическо възприемане</h6>
                                <p class="text-muted small mb-2">Добър практически подход - 78%</p>
                                <p class="text-muted small mb-4">Фокусирате се върху практическото приложение на информацията и конкретните резултати.</p>

                                <h6>Интуитивно възприемане</h6>
                                <p class="text-muted small mb-2">Развито интуитивно мислене - 65%</p>
                                <p class="text-muted small mb-0">Разчитате на интуицията и вътрешните усещания при обработка на нова информация.</p>
                            </div>
                        </div>
                        <div class="alert alert-secondary mt-3">
                            <strong>Вашият тип:</strong> Аналитично-практическо възприемане - комбинирате задълбочен анализ с практическо приложение на новости.
                        </div>
                    </div>
                </div>

                <!-- Personality Analysis -->
                <div class="card shadow mb-4">
                    <div class="card-header bg-info text-white">
                        <h3 class="card-title mb-0">
                            <i class="fas fa-brain me-2"></i>
                            Анализ на характера
                        </h3>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-info">
                            <h5><i class="fas fa-lightbulb me-2"></i>Ваш основен тип личност:</h5>
                            <p class="mb-0"><strong>Динамичен експлозивен тип с холерично-сангвиничен темперамент.</strong> Вие сте силно експресивна и динамична личност с комбинация от вулканичен темперамент и практическа ориентация. Имате висока степен на адаптивност и способност за бързи обрати в живота.</p>
                        </div>

                        <div class="row mt-4">
                            <div class="col-md-6">
                                <h6>Силни страни:</h6>
                                <ul>
                                    <li>Експлозивна динамика и вдъхновение</li>
                                    <li>Бърза реакция в критични ситуации</li>
                                    <li>Висока степен на адаптивност</li>
                                    <li>Способност за ръководство и вземане на решения</li>
                                    <li>Комбинация от креативност и практичност</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h6>Области за развитие:</h6>
                                <ul>
                                    <li>Управление на импулсивността</li>
                                    <li>Избягване на монотонна работа</li>
                                    <li>Поддържане на вътрешно равновесие</li>
                                    <li>Управление на стрес в динамични ситуации</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recommendations -->
                <div class="card shadow mb-4">
                    <div class="card-header bg-secondary text-white">
                        <h3 class="card-title mb-0">
                            <i class="fas fa-star me-2"></i>
                            Препоръки
                        </h3>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h6>Образование:</h6>
                                <p>Препоръчваме динамични технически специалности като инженерство, компютърни науки или приложни природни науки, където можете да развиете експресивните си способности и практическото мислене.</p>
                            </div>
                            <div class="col-md-6">
                                <h6>Спорт и хоби:</h6>
                                <p>Подходящи спортове: леко атлетика (спринт), бокс, бойни изкуства. Хобита: предприемачество, спортни дейности, творчески проекти, които изискват бързи решения.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Disclaimer -->
                <div class="alert alert-warning">
                    <i class="fas fa-exclamation-triangle me-2"></i>
                    <strong>Важно:</strong> Този анализ е базиран на дерматоглифични принципи и служи като ориентир.
                    За по-точна оценка се консултирайте с наш експерт.
                </div>

                <!-- Action Buttons -->
                <div class="text-center mt-4">
                    <button onclick="window.print()" class="btn btn-primary me-2">
                        <i class="fas fa-print me-1"></i>
                        Отпечатай
                    </button>
                    <a href="services5.html" class="btn btn-success">
                        <i class="fas fa-user-md me-1"></i>
                        Поръчай експертен анализ
                    </a>
                    <a href="services1.html" class="btn btn-secondary ms-2">
                        <i class="fas fa-redo me-1"></i>
                        Нов тест
                    </a>
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-dark text-center text-white py-4">
        <!-- Grid container -->
        <div class="container p-4 pb-0">
            <!-- Section: Social media -->
            <section class="mb-4">
                <a class="btn btn-outline-light btn-floating m-1" href="https://www.facebook.com/Genetictest.Svishtov"
                    role="button"><i class="fab fa-facebook-f"></i></a>

                <a class="btn btn-outline-light btn-floating m-1" href="https://www.facebook.com/revolyutsiya.usmivka"
                    role="button"><i class="fab fa-facebook-f"></i></a>

                |

                <a class="btn btn-outline-light btn-floating m-1" href="https://www.instagram.com/genetictest_svishtov"
                    role="button"><i class="fab fa-instagram"></i></a>

                <a class="btn btn-outline-light btn-floating m-1" href="https://www.instagram.com/eveliniangelova"
                    role="button"><i class="fab fa-instagram"></i></a>
            </section>
        </div>

        <div class="text-center p-3">
            <script>document.write(new Date().getFullYear())</script> - Всички права запазени:
            <a class="text-white" href="google.com">Genetic Test - Svishtov ©</a>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

    <script>
        // ===== ДЕРМАТОГЛИФИЧНИ АНАЛИЗИ =====

        // Система за оценка на пръстовите отпечатъци
        const FINGERPRINT_SCORES = {
          'Дъга': 0,
          'Дъга - Палатка': 0,
          'Палатковидна Дъга': 0,
          'L-Примка': 1,
          'R-Примка': 1,
          'Спирала': 2,
          'Двойна Спирала': 2
        };

        // Система за оценка на делта индекс
        const DELTA_INDEX_SCORES = {
          'Дъга': 0,
          'Дъга - Палатка': 0,
          'Палатковидна Дъга': 0,
          'L-Примка': 1,
          'R-Примка': 1,
          'Спирала': 2,
          'Двойна Спирала': 2
        };

        // Изображения за различните видове пръстови отпечатъци
        const FINGERPRINT_IMAGES = {
          'Дъга': 'img/print2.jpg', // Arch image
          'Дъга - Палатка': 'img/print5.jpg', // Tented arch image
          'Палатковидна Дъга': 'img/print5.jpg', // Tented arch image
          'L-Примка': 'img/print4.jpg', // Ulnar loop (left loop) image
          'R-Примка': 'img/print3.jpg', // Radial loop (right loop) image
          'Спирала': 'img/print6.jpg', // Spiral image
          'Двойна Спирала': 'img/print1.jpg' // Double spiral image
        };

        // Изчисляване на общата дерматоглифична формула
        function calculateDermatoglyphicFormula(fingerprints) {
          let totalScore = 0;
          let leftHandScore = 0;
          let rightHandScore = 0;

          // Лява ръка
          const leftFingers = ['left-thumb', 'left-index', 'left-middle', 'left-ring', 'left-pinky'];
          leftFingers.forEach(finger => {
            const score = FINGERPRINT_SCORES[fingerprints.leftHand[leftFingers.indexOf(finger)]] || 0;
            leftHandScore += score;
            totalScore += score;
          });

          // Дясна ръка
          const rightFingers = ['right-thumb', 'right-index', 'right-middle', 'right-ring', 'right-pinky'];
          rightFingers.forEach(finger => {
            const score = FINGERPRINT_SCORES[fingerprints.rightHand[rightFingers.indexOf(finger)]] || 0;
            rightHandScore += score;
            totalScore += score;
          });

          return {
            total: totalScore,
            leftHand: leftHandScore,
            rightHand: rightHandScore,
            maxScore: 20
          };
        }

        // Изчисляване на делта индекс
        function calculateDeltaIndex(fingerprints) {
          let totalDeltaScore = 0;

          // Лява ръка
          fingerprints.leftHand.forEach(pattern => {
            totalDeltaScore += DELTA_INDEX_SCORES[pattern] || 0;
          });

          // Дясна ръка
          fingerprints.rightHand.forEach(pattern => {
            totalDeltaScore += DELTA_INDEX_SCORES[pattern] || 0;
          });

          return totalDeltaScore;
        }

        // Детайлни описания за типовете образование
        const EDUCATION_DESCRIPTIONS = {
          technical: {
            title: 'Техническо образование',
            description: 'Техническото образование включва инженерство, машиностроене, електротехника и други технически дисциплини. Хората с висока предразположеност към техническо образование проявяват силен интерес към практическо решаване на проблеми и работа с технологии. Те се справят добре с аналитично мислене и имат способността да съчетават теоретични знания с практически приложения.',
            careers: 'Инженери, техници, конструктори, специалисти по роботика и автоматизация.'
          },
          humanitarian: {
            title: 'Хуманитарно образование',
            description: 'Хуманитарното образование обхваща философия, история, литература, социология и други хуманитарни науки. Хората с предразположеност към хуманитарни дисциплини проявяват интерес към човешките отношения, културата и обществените процеси. Те имат способността да анализират сложни социални явления и да разбират човешкото поведение.',
            careers: 'Преподаватели, журналисти, социални работници, културни дейци.'
          },
          naturalScience: {
            title: 'Природни науки',
            description: 'Природните науки включват биология, химия, физика, екология и други природо-научни дисциплини. Хората с предразположеност към природни науки проявяват интерес към изучаването на природните закони и явления, експериментални методи и научни изследвания. Те имат аналитично мислене, способност за систематично наблюдение и експериментиране, както и критично мислене.',
            careers: 'Биолози, химици, физици, еколози, изследователи, лаборанти, анализатори.'
          },
          economics: {
            title: 'Икономика и управление',
            description: 'Икономиката и управлението включват бизнес, финанси, маркетинг и организационно управление. Хората с предразположеност към тези дисциплини проявяват интерес към бизнес процеси, финансов анализ и стратегическо планиране. Те имат способността да вземат рационални решения и да управляват ресурси ефективно.',
            careers: 'Икономисти, мениджъри, финансисти, бизнес консултанти.'
          },
          linguistic: {
            title: 'Лингвистично образование',
            description: 'Лингвистичното образование обхваща изучаването на езици, литература и лингвистика. Хората с предразположеност към езикови дисциплини проявяват интерес към комуникацията, езиковите структури и културните аспекти на езика. Те имат способността да учат чужди езици и да анализират езикови явления.',
            careers: 'Преводачи, филолози, учители по езици, лингвисти.'
          },
          mathematical: {
            title: 'Математическо образование',
            description: 'Математическото образование включва чиста математика, приложна математика и статистически методи. Хората с предразположеност към математически дисциплини проявяват интерес към абстрактното мислене, логическите конструкции и количествения анализ. Те имат способността да решават сложни проблеми чрез математически модели и алгоритми.',
            careers: 'Математици, статистици, анализатори на данни, разработчици на софтуер.'
          }
        };

        // Анализ на типа образование
        function calculateEducationType(formula, fingerprints) {
          const spiralPercentage = calculatePatternPercentage(fingerprints, 'Спирала', 'Двойна Спирала');
          const loopPercentage = calculatePatternPercentage(fingerprints, 'L-Примка', 'R-Примка');
          const archPercentage = calculatePatternPercentage(fingerprints, 'Дъга', 'Палатковидна Дъга');

          return {
            technical: Math.min(100, 75 + (spiralPercentage * 0.5) + (formula.total * 2)),
            humanitarian: Math.min(100, 45 - (spiralPercentage * 0.3) + Math.max(0, (10 - formula.total) * 2)),
            naturalScience: Math.min(100, 72 + (spiralPercentage * 0.35) + (formula.total * 1.65)),
            economics: Math.min(100, 50 + (loopPercentage * 0.3) - (spiralPercentage * 0.2)),
            linguistic: Math.min(100, 30 + (loopPercentage * 0.4) + Math.max(0, (8 - formula.total) * 1.5)),
            mathematical: Math.min(100, 80 + (spiralPercentage * 0.6) + (formula.total * 2.2))
          };
        }

        // Показване на типовете образование в сортиран ред
        function displayEducationTypes(educationData) {
          const container = document.getElementById('education-types-container');
          if (!container) return;

          // Сортиране по процент в низходящ ред (от най-висок към най-нисък)
          const sortedEducation = Object.entries(educationData)
            .map(([key, value]) => ({ key, value, ...EDUCATION_DESCRIPTIONS[key] }))
            .sort((a, b) => b.value - a.value);

          let html = '';

          // Групиране по 2 в ред
          for (let i = 0; i < sortedEducation.length; i += 2) {
            html += '<div class="row mb-4">';

            // Първи елемент в реда
            const firstItem = sortedEducation[i];
            html += `
              <div class="col-md-6">
                <h6>${firstItem.title}</h6>
                <div class="progress report-progress mb-2">
                  <div class="progress-bar" role="progressbar" style="width: ${firstItem.value}%" aria-valuenow="${firstItem.value}" aria-valuemin="0" aria-valuemax="100">${firstItem.value}%</div>
                </div>
                <p class="text-muted small mb-2">${firstItem.description}</p>
                <p class="text-primary small"><strong>Възможни кариери:</strong> ${firstItem.careers}</p>
              </div>
            `;

            // Втори елемент в реда (ако съществува)
            if (i + 1 < sortedEducation.length) {
              const secondItem = sortedEducation[i + 1];
              html += `
                <div class="col-md-6">
                  <h6>${secondItem.title}</h6>
                  <div class="progress report-progress mb-2">
                    <div class="progress-bar" role="progressbar" style="width: ${secondItem.value}%" aria-valuenow="${secondItem.value}" aria-valuemin="0" aria-valuemax="100">${secondItem.value}%</div>
                  </div>
                  <p class="text-muted small mb-2">${secondItem.description}</p>
                  <p class="text-primary small"><strong>Възможни кариери:</strong> ${secondItem.careers}</p>
                </div>
              `;
            }

            html += '</div>';
          }

          container.innerHTML = html;
        }

        // Анализ на професионални направления
        function calculateProfessionalDirections(fingerprints) {
          const spiralCount = countPatterns(fingerprints, 'Спирала', 'Двойна Спирала');
          const loopCount = countPatterns(fingerprints, 'L-Примка', 'R-Примка');
          const archCount = countPatterns(fingerprints, 'Дъга', 'Палатковидна Дъга');

          const totalFingers = 10;
          const spiralPercentage = (spiralCount / totalFingers) * 100;
          const loopPercentage = (loopCount / totalFingers) * 100;
          const archPercentage = (archCount / totalFingers) * 100;

          return {
            analytical: Math.min(100, 60 + (spiralPercentage * 0.8) + (loopCount * 3)),
            creative: Math.min(100, 40 + (loopPercentage * 0.6) + (archCount * 2)),
            organizational: Math.min(100, 55 + (spiralPercentage * 0.4) + (loopCount * 2)),
            physical: Math.min(100, 30 + (archPercentage * 0.8) - (spiralPercentage * 0.3))
          };
        }

        // Анализ на професионални сфери
        function calculateProfessionalSpheres(fingerprints) {
          const spiralCount = countPatterns(fingerprints, 'Спирала', 'Двойна Спирала');
          const loopCount = countPatterns(fingerprints, 'L-Примка', 'R-Примка');
          const archCount = countPatterns(fingerprints, 'Дъга', 'Палатковидна Дъга');

          return {
            innovations: Math.min(100, 55 + (spiralCount * 5) + (loopCount * 3)),
            creativity: Math.min(100, 50 + (loopCount * 4) + (archCount * 2)),
            sport: Math.min(100, 45 + (archCount * 5) + (spiralCount * 2))
          };
        }

        // Анализ на модела за самореализация
        // Детайлни описания за модела на самореализация
        const SELFREALIZATION_DESCRIPTIONS = {
          communication: {
            title: 'Комуникация',
            description: 'Комуникативните умения включват способността за ефективно общуване, изразяване на мисли и разбиране на другите. Хората с високи комуникативни умения се справят добре в социални ситуации, могат да убеждават и да водят разговори. Те имат способността да създават и поддържат добри отношения.',
            careers: 'Мениджъри, преподаватели, консултанти, PR специалисти.'
          },
          practice: {
            title: 'Практика',
            description: 'Практическата ориентация включва способността за прилагане на знанията в реални ситуации, решаване на конкретни проблеми и ефективно използване на наличните ресурси. Хората с практическа ориентация предпочитат конкретни действия пред абстрактни идеи и се справят добре с ръчна работа и технически задачи.',
            careers: 'Инженери, техници, занаятчии, предприемачи.'
          },
          analysis: {
            title: 'Анализи',
            description: 'Аналитичните умения включват способността за логическо мислене, систематизиране на информацията и вземане на обосновани решения. Хората с аналитичен подход се справят добре с решаването на сложни проблеми, обработка на данни и стратегическо планиране.',
            careers: 'Аналитици, изследователи, счетоводители, програмисти.'
          }
        };

        function calculateSelfRealizationModel(formula, fingerprints) {
          const spiralPercentage = calculatePatternPercentage(fingerprints, 'Спирала', 'Двойна Спирала');
          const loopPercentage = calculatePatternPercentage(fingerprints, 'L-Примка', 'R-Примка');

          return {
            communication: Math.min(100, 45 + (loopPercentage * 0.8) - (spiralPercentage * 0.1)),
            practice: Math.min(100, 70 + (formula.total * 1.2) + (loopPercentage * 0.3)),
            analysis: Math.min(100, 65 + (spiralPercentage * 0.6) + (formula.total * 1.3))
          };
        }

        // Показване на индикаторите за самореализация в сортиран ред
        function displaySelfRealizationIndicators(modelData) {
          const container = document.getElementById('selfrealization-indicators');
          if (!container) return;

          // Сортиране по процент в низходящ ред (от най-висок към най-нисък)
          const sortedIndicators = Object.entries(modelData)
            .map(([key, value]) => ({ key, value, ...SELFREALIZATION_DESCRIPTIONS[key] }))
            .sort((a, b) => b.value - a.value);

          let html = '';

          sortedIndicators.forEach((indicator, index) => {
            const isHighest = index === 0;
            const badgeHtml = isHighest ? ' <span class="badge bg-warning text-dark ms-2">Най-висок показател</span>' : '';
            const strongClass = isHighest ? 'fw-bold' : '';

            html += `
              <h6 class="${strongClass}">${indicator.title}${badgeHtml}</h6>
              <div class="progress report-progress mb-3">
                <div class="progress-bar ${isHighest ? 'bg-warning' : ''}" role="progressbar" style="width: ${indicator.value}%" aria-valuenow="${indicator.value}" aria-valuemin="0" aria-valuemax="100">${indicator.value}%</div>
              </div>
              <p class="text-muted small mb-3 ${strongClass}">${indicator.description}</p>
              <p class="text-primary small"><strong>Подходящи кариери:</strong> ${indicator.careers}</p>
            `;
          });

          // Add recommendation based on highest indicator
          const highestIndicator = sortedIndicators[0];
          html += `
            <div class="alert alert-warning mt-4">
              <strong>Препоръка:</strong> Вашият основен стил на самореализация е "${highestIndicator.title}" (${highestIndicator.value}%). Това е подходът, който ще ви донесе най-голямо удовлетворение и успех в работата.
            </div>
          `;

          container.innerHTML = html;
        }

        // Анализ на здравословното състояние
        function calculateHealthAnalysis(fingerprints, formula) {
          const spiralCount = countPatterns(fingerprints, 'Спирала', 'Двойна Спирала');
          const loopCount = countPatterns(fingerprints, 'L-Примка', 'R-Примка');
          const archCount = countPatterns(fingerprints, 'Дъга', 'Палатковидна Дъга');

          return {
            stressRisk: Math.min(100, 40 + (spiralCount * 8) + (formula.total * 1.5)),
            immuneSystem: Math.min(100, 60 + (loopCount * 4) - (spiralCount * 2)),
            nervousSystem: Math.min(100, 55 + (spiralCount * 6) + (loopCount * 2)),
            physicalEndurance: Math.min(100, 50 + (archCount * 5) + (loopCount * 2))
          };
        }

        // Анализ на спорт
        function calculateSportsAnalysis(fingerprints) {
          const formula = calculateDermatoglyphicFormula(fingerprints);

          return {
            intellectualSports: Math.min(100, 60 + (formula.total * 2) + (countPatterns(fingerprints, 'Спирала', 'Двойна Спирала') * 4)),
            individualSports: Math.min(100, 55 + (formula.total * 1.5) + (countPatterns(fingerprints, 'L-Примка', 'R-Примка') * 3)),
            teamSports: Math.min(100, 35 + (countPatterns(fingerprints, 'Дъга', 'Палатковидна Дъга') * 4) - (formula.total * 0.5))
          };
        }

        // Анализ на нервната система
        function calculateNervousSystem(fingerprints, formula) {
          const spiralCount = countPatterns(fingerprints, 'Спирала', 'Двойна Спирала');
          const loopCount = countPatterns(fingerprints, 'L-Примка', 'R-Примка');

          return {
            concentration: Math.min(100, 65 + (spiralCount * 6) + (formula.total * 1.2)),
            reactionSpeed: Math.min(100, 60 + (spiralCount * 5) + (loopCount * 2)),
            stressResistance: Math.min(100, 55 + (loopCount * 4) - (spiralCount * 2)),
            adaptability: Math.min(100, 70 + (loopCount * 3) + (spiralCount * 2))
          };
        }

        // Анализ на поведенческата адаптация
        function calculateBehavioralAdaptation(fingerprints) {
          const formula = calculateDermatoglyphicFormula(fingerprints);
          const spiralPercentage = calculatePatternPercentage(fingerprints, 'Спирала', 'Двойна Спирала');

          return {
            systematicAdaptation: Math.min(100, 65 + (formula.total * 1.8) + (spiralPercentage * 0.4)),
            flexibleAdaptation: Math.min(100, 50 + (calculatePatternPercentage(fingerprints, 'L-Примка', 'R-Примка') * 0.7)),
            conservativeAdaptation: Math.min(100, 35 + Math.max(0, (8 - formula.total) * 2))
          };
        }

        // Анализ на темперамента
        function calculateTemperament(fingerprints) {
          const spiralCount = countPatterns(fingerprints, 'Спирала', 'Двойна Спирала');
          const loopCount = countPatterns(fingerprints, 'L-Примка', 'R-Примка');
          const archCount = countPatterns(fingerprints, 'Дъга', 'Палатковидна Дъга');

          return {
            melancholic: Math.min(100, 25 + (archCount * 8) - (spiralCount * 3)),
            phlegmatic: Math.min(100, 60 + (loopCount * 4) + (spiralCount * 2)),
            sanguine: Math.min(100, 50 + (loopCount * 3) + (spiralCount * 3)),
            choleric: Math.min(100, 35 + (spiralCount * 5) + Math.max(0, (loopCount - 3) * 2))
          };
        }

        // Анализ на възприемането на новости
        function calculateNewsPerception(fingerprints) {
          const spiralCount = countPatterns(fingerprints, 'Спирала', 'Двойна Спирала');
          const loopCount = countPatterns(fingerprints, 'L-Примка', 'R-Примка');
          const archCount = countPatterns(fingerprints, 'Дъга', 'Палатковидна Дъга');

          return {
            analyticalPerception: Math.min(100, 70 + (spiralCount * 6) + (loopCount * 2)),
            intuitivePerception: Math.min(100, 50 + (spiralCount * 4) + (archCount * 2)),
            practicalPerception: Math.min(100, 60 + (loopCount * 4) + (spiralCount * 3))
          };
        }

        // Update pattern badge color based on pattern type
        function updatePatternBadge(badgeElement, pattern) {
            if (!badgeElement) return;

            badgeElement.className = 'badge ms-1';

            if (pattern.includes('Дъга') || pattern.includes('Палатка')) {
                badgeElement.classList.add('bg-secondary');
            } else if (pattern.includes('Примка')) {
                badgeElement.classList.add('bg-primary');
            } else if (pattern.includes('Спирала')) {
                badgeElement.classList.add('bg-danger');
            } else {
                badgeElement.classList.add('bg-secondary');
            }
        }

        // Update fingerprint icon based on pattern type
        function updateFingerprintIcon(iconContainer, pattern) {
            if (!iconContainer) return;

            const imageSrc = FINGERPRINT_IMAGES[pattern] || 'img/placeholder.jpg';

            // Replace the icon element with an image
            iconContainer.innerHTML = `<img src="${imageSrc}" alt="${pattern}" style="width: 32px; height: 32px; object-fit: cover; border-radius: 4px;">`;
        }

        // Update gender avatar based on gender
        function updateGenderAvatar(gender) {
            const genderAvatar = document.getElementById('gender-avatar');
            const silhouetteDiv = document.getElementById('gender-silhouette');

            if (!genderAvatar || !silhouetteDiv) return;

            const genderLower = gender.toLowerCase();

            // Reset to default
            genderAvatar.src = 'data/placeholder.jpg';
            genderAvatar.alt = 'Неутрален силует';
            silhouetteDiv.style.background = 'linear-gradient(135deg, #e9ecef, #dee2e6)';
            silhouetteDiv.title = 'Неутрален силует';

            if (genderLower.includes('мъж') || genderLower.includes('male') || genderLower.includes('man')) {
                // Зареждане на мъжко изображение
                genderAvatar.src = 'data/Picture.png - мъж.png';
                genderAvatar.alt = 'Мъжки силует';
                silhouetteDiv.style.background = 'linear-gradient(135deg, #007bff, #0056b3)';
                silhouetteDiv.title = 'Мъжки силует - персонализирано изображение';
            } else if (genderLower.includes('жена') || genderLower.includes('female') || genderLower.includes('woman')) {
                // Зареждане на женско изображение
                genderAvatar.src = 'data/Picture.png жена.png';
                genderAvatar.alt = 'Женски силует';
                silhouetteDiv.style.background = 'linear-gradient(135deg, #f8f9fa, #e9ecef)';
                silhouetteDiv.title = 'Женски силует - персонализирано изображение';
            }
        }

        // Помощни функции
        function countPatterns(fingerprints, ...patterns) {
          let count = 0;

          Object.values(fingerprints.leftHand).forEach(pattern => {
            if (patterns.includes(pattern)) count++;
          });

          Object.values(fingerprints.rightHand).forEach(pattern => {
            if (patterns.includes(pattern)) count++;
          });

          return count;
        }

        function calculatePatternPercentage(fingerprints, ...patterns) {
          const count = countPatterns(fingerprints, ...patterns);
          return (count / 10) * 100; // 10 пръста общо
        }

        // Генериране на пълен анализ
        function generateCompleteAnalysis(fingerprints) {
          const formula = calculateDermatoglyphicFormula(fingerprints);
          const deltaIndex = calculateDeltaIndex(fingerprints);

          return {
            dermatoglyphicFormula: formula,
            deltaIndex: deltaIndex,
            educationType: calculateEducationType(formula, fingerprints),
            professionalDirections: calculateProfessionalDirections(fingerprints),
            professionalSpheres: calculateProfessionalSpheres(fingerprints),
            selfRealizationModel: calculateSelfRealizationModel(formula, fingerprints),
            healthAnalysis: calculateHealthAnalysis(fingerprints, formula),
            sportsAnalysis: calculateSportsAnalysis(fingerprints),
            nervousSystem: calculateNervousSystem(fingerprints, formula),
            behavioralAdaptation: calculateBehavioralAdaptation(fingerprints),
            temperament: calculateTemperament(fingerprints),
            newsPerception: calculateNewsPerception(fingerprints)
          };
        }

        // Load data from URL parameters or localStorage
        function loadReportData() {
            // Try to get data from URL parameters first
            const urlParams = new URLSearchParams(window.location.search);

            const name = urlParams.get('name') || localStorage.getItem('report_name') || '______________________________';
            const gender = urlParams.get('gender') || localStorage.getItem('report_gender') || 'Неопределен';
            const age = urlParams.get('age') || localStorage.getItem('report_age') || '______';
            const email = urlParams.get('email') || localStorage.getItem('report_email') || '___________________________';
            const date = new Date().toLocaleDateString('bg-BG');

            // Update personal info
            document.getElementById('report-name').textContent = name;
            document.getElementById('report-gender').textContent = gender;
            document.getElementById('report-age').textContent = age;
            document.getElementById('report-email').textContent = email;
            document.getElementById('report-date').textContent = date;

            // Update gender avatar based on gender
            updateGenderAvatar(gender);

            // Update fingerprint data - use static data for now
            const staticFingerprintData = {
                leftHand: ['Дъга - Палатка', 'Дъга - Палатка', 'Дъга - Палатка', 'R-Примка', 'Дъга - Палатка'],
                rightHand: ['Спирала', 'L-Примка', 'R-Примка', 'R-Примка', 'Дъга - Палатка']
            };

            // Update left hand fingers
            const leftFingerIds = ['left-thumb-pattern', 'left-index-pattern', 'left-middle-pattern', 'left-ring-pattern', 'left-pinky-pattern'];
            leftFingerIds.forEach((fingerId, index) => {
                const element = document.getElementById(fingerId);
                if (element && staticFingerprintData.leftHand && staticFingerprintData.leftHand[index]) {
                    element.textContent = staticFingerprintData.leftHand[index];
                    // Update badge color based on pattern type
                    updatePatternBadge(element, staticFingerprintData.leftHand[index]);

                    // Update icon based on pattern type
                    const fingerContainer = element.closest('.d-flex');
                    const iconContainer = fingerContainer.querySelector('.finger-icon');
                    updateFingerprintIcon(iconContainer, staticFingerprintData.leftHand[index]);
                }
            });

            // Update right hand fingers
            const rightFingerIds = ['right-thumb-pattern', 'right-index-pattern', 'right-middle-pattern', 'right-ring-pattern', 'right-pinky-pattern'];
            rightFingerIds.forEach((fingerId, index) => {
                const element = document.getElementById(fingerId);
                if (element && staticFingerprintData.rightHand && staticFingerprintData.rightHand[index]) {
                    element.textContent = staticFingerprintData.rightHand[index];
                    // Update badge color based on pattern type
                    updatePatternBadge(element, staticFingerprintData.rightHand[index]);

                    // Update icon based on pattern type
                    const fingerContainer = element.closest('.d-flex');
                    const iconContainer = fingerContainer.querySelector('.finger-icon');
                    updateFingerprintIcon(iconContainer, staticFingerprintData.rightHand[index]);
                }
            });
        }

        // Create charts when page loads
        function createCharts() {
            // Directions Chart
            const directionsCtx = document.getElementById('directionsChart');
            if (directionsCtx) {
                new Chart(directionsCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Комуникации', 'Практика', 'Анализ'],
                        datasets: [{
                            data: [75, 85, 90],
                            backgroundColor: ['#007bff', '#28a745', '#ffc107'],
                            borderWidth: 2,
                            hoverBorderWidth: 3
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    padding: 20,
                                    font: {
                                        size: 14
                                    },
                                    generateLabels: function(chart) {
                                        const data = chart.data;
                                        if (data.labels.length && data.datasets.length) {
                                            const dataset = data.datasets[0];
                                            return data.labels.map(function(label, i) {
                                                const value = dataset.data[i];
                                                return {
                                                    text: label + ' (' + value + '%)',
                                                    fillStyle: dataset.backgroundColor[i],
                                                    strokeStyle: dataset.borderColor ? dataset.borderColor[i] : dataset.backgroundColor[i],
                                                    lineWidth: dataset.borderWidth || 0,
                                                    hidden: false,
                                                    index: i
                                                };
                                            });
                                        }
                                        return [];
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // Spheres Chart
            const spheresCtx = document.getElementById('spheresChart');
            if (spheresCtx) {
                new Chart(spheresCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Иновации', 'Творчество', 'Спорт'],
                        datasets: [{
                            data: [85, 78, 72],
                            backgroundColor: ['#007bff', '#28a745', '#ffc107'],
                            borderWidth: 2,
                            hoverBorderWidth: 3
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    padding: 20,
                                    font: {
                                        size: 14
                                    },
                                    generateLabels: function(chart) {
                                        const data = chart.data;
                                        if (data.labels.length && data.datasets.length) {
                                            const dataset = data.datasets[0];
                                            return data.labels.map(function(label, i) {
                                                const value = dataset.data[i];
                                                return {
                                                    text: label + ' (' + value + '%)',
                                                    fillStyle: dataset.backgroundColor[i],
                                                    strokeStyle: dataset.borderColor ? dataset.borderColor[i] : dataset.backgroundColor[i],
                                                    lineWidth: dataset.borderWidth || 0,
                                                    hidden: false,
                                                    index: i
                                                };
                                            });
                                        }
                                        return [];
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // Health Chart
            const healthCtx = document.getElementById('healthChart');
            if (healthCtx) {
                new Chart(healthCtx, {
                    type: 'radar',
                    data: {
                        labels: ['Риск от стрес', 'Имунна система', 'Нервна система', 'Физическа издръжливост'],
                        datasets: [{
                            label: 'Здравни показатели',
                            data: [65, 78, 72, 68],
                            borderColor: '#dc3545',
                            backgroundColor: 'rgba(220, 53, 69, 0.2)',
                            pointBackgroundColor: '#dc3545',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: '#dc3545',
                            pointRadius: 6,
                            pointHoverRadius: 8
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                beginAtZero: true,
                                max: 100,
                                ticks: {
                                    stepSize: 20,
                                    font: {
                                        size: 12
                                    }
                                },
                                pointLabels: {
                                    font: {
                                        size: 12
                                    }
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                labels: {
                                    font: {
                                        size: 14
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // Sports Chart
            const sportsCtx = document.getElementById('sportsChart');
            if (sportsCtx) {
                new Chart(sportsCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Интелектуални', 'Индивидуални', 'Командни'],
                        datasets: [{
                            label: 'Спортни предразположености (%)',
                            data: [92, 78, 45],
                            backgroundColor: ['#007bff', '#28a745', '#ffc107'],
                            borderWidth: 2,
                            borderColor: '#fff',
                            hoverBorderWidth: 3
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 100,
                                ticks: {
                                    stepSize: 20,
                                    font: {
                                        size: 12
                                    }
                                }
                            },
                            x: {
                                ticks: {
                                    font: {
                                        size: 14
                                    }
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: false
                            }
                        }
                    }
                });
            }

            // Nervous System Chart
            const nervousSystemCtx = document.getElementById('nervousSystemChart');
            if (nervousSystemCtx) {
                new Chart(nervousSystemCtx, {
                    type: 'radar',
                    data: {
                        labels: ['Концентрация', 'Бързина на реакция', 'Стресоустойчивост', 'Адаптивност'],
                        datasets: [{
                            label: 'Нервна система',
                            data: [88, 72, 68, 75],
                            borderColor: '#17a2b8',
                            backgroundColor: 'rgba(23, 162, 184, 0.2)',
                            pointBackgroundColor: '#17a2b8',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: '#17a2b8',
                            pointRadius: 6,
                            pointHoverRadius: 8
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                beginAtZero: true,
                                max: 100,
                                ticks: {
                                    stepSize: 20,
                                    font: {
                                        size: 12
                                    }
                                },
                                pointLabels: {
                                    font: {
                                        size: 12
                                    }
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                labels: {
                                    font: {
                                        size: 14
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // Temperament Chart
            const temperamentCtx = document.getElementById('temperamentChart');
            if (temperamentCtx) {
                new Chart(temperamentCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Сангвиничен', 'Флегматичен', 'Холеричен', 'Меланхоличен'],
                        datasets: [{
                            data: [72, 68, 68, 25],
                            backgroundColor: ['#ffc107', '#28a745', '#dc3545', '#007bff'],
                            borderWidth: 2,
                            hoverBorderWidth: 3
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    padding: 20,
                                    font: {
                                        size: 14
                                    },
                                    generateLabels: function(chart) {
                                        const data = chart.data;
                                        if (data.labels.length && data.datasets.length) {
                                            const dataset = data.datasets[0];
                                            return data.labels.map(function(label, i) {
                                                const value = dataset.data[i];
                                                return {
                                                    text: label + ' (' + value + '%)',
                                                    fillStyle: dataset.backgroundColor[i],
                                                    strokeStyle: dataset.borderColor ? dataset.borderColor[i] : dataset.backgroundColor[i],
                                                    lineWidth: dataset.borderWidth || 0,
                                                    hidden: false,
                                                    index: i
                                                };
                                            });
                                        }
                                        return [];
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // Self-Realization Chart
            const selfRealizationCtx = document.getElementById('selfRealizationChart');
            if (selfRealizationCtx) {
                new Chart(selfRealizationCtx, {
                    type: 'radar',
                    data: {
                        labels: ['Комуникация', 'Практика', 'Анализи'],
                        datasets: [{
                            label: 'Показатели',
                            data: [75, 85, 90],
                            borderColor: '#ffc107',
                            backgroundColor: 'rgba(255, 193, 7, 0.2)',
                            pointBackgroundColor: '#ffc107',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: '#ffc107',
                            pointRadius: 6,
                            pointHoverRadius: 8
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                beginAtZero: true,
                                max: 100,
                                ticks: {
                                    stepSize: 20,
                                    font: {
                                        size: 12
                                    }
                                },
                                pointLabels: {
                                    font: {
                                        size: 14
                                    }
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                labels: {
                                    font: {
                                        size: 14
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // Adaptation Chart
            const adaptationCtx = document.getElementById('adaptationChart');
            if (adaptationCtx) {
                new Chart(adaptationCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Системна', 'Гъвкава', 'Консервативна'],
                        datasets: [{
                            label: 'Процент',
                            data: [87, 73, 48],
                            backgroundColor: ['#28a745', '#007bff', '#ffc107'],
                            borderWidth: 2,
                            borderColor: '#fff',
                            hoverBorderWidth: 3
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 100,
                                ticks: {
                                    stepSize: 20,
                                    font: {
                                        size: 12
                                    }
                                }
                            },
                            x: {
                                ticks: {
                                    font: {
                                        size: 14
                                    }
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: false
                            }
                        }
                    }
                });
            }

            // News Perception Chart
            const newsPerceptionCtx = document.getElementById('newsPerceptionChart');
            if (newsPerceptionCtx) {
                new Chart(newsPerceptionCtx, {
                    type: 'polarArea',
                    data: {
                        labels: ['Аналитично', 'Интуитивно', 'Практическо'],
                        datasets: [{
                            data: [88, 72, 85],
                            backgroundColor: [
                                'rgba(0, 123, 255, 0.8)',
                                'rgba(40, 167, 69, 0.8)',
                                'rgba(255, 193, 7, 0.8)'
                            ],
                            borderWidth: 2,
                            borderColor: '#fff',
                            hoverBorderWidth: 3
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    padding: 20,
                                    font: {
                                        size: 14
                                    }
                                }
                            }
                        },
                        scales: {
                            r: {
                                ticks: {
                                    stepSize: 20,
                                    font: {
                                        size: 12
                                    }
                                },
                                pointLabels: {
                                    font: {
                                        size: 14
                                    }
                                }
                            }
                        }
                    }
                });
            }
        }

        // Calculate and update all analysis results
        function calculateAndUpdateResults() {
            // Use static fingerprint data
            const fingerprints = {
                leftHand: ['Дъга - Палатка', 'Дъга - Палатка', 'Дъга - Палатка', 'R-Примка', 'Дъга - Палатка'],
                rightHand: ['Спирала', 'L-Примка', 'R-Примка', 'R-Примка', 'Дъга - Палатка']
            };

            // Generate complete analysis
            const analysis = generateCompleteAnalysis(fingerprints);

            // Update Delta Index
            document.getElementById('delta-index').textContent = analysis.deltaIndex;

            // Display Education Types (sorted)
            displayEducationTypes(analysis.educationType);

            // Display Self-Realization Model (sorted)
            displaySelfRealizationIndicators(analysis.selfRealizationModel);

            // Update Professional Directions
            updateProgressBar('directions-communication', analysis.selfRealizationModel.communication);
            updateProgressBar('directions-practice', analysis.selfRealizationModel.practice);
            updateProgressBar('directions-analysis', analysis.selfRealizationModel.analysis);


            // Display Self-Realization Model (sorted)
            displaySelfRealizationIndicators(analysis.selfRealizationModel);



            // Update Temperament
            updateProgressBar('temperament-phlegmatic', analysis.temperament.phlegmatic);
            updateProgressBar('temperament-sanguine', analysis.temperament.sanguine);
        }

        // Helper function to update progress bars
        function updateProgressBar(elementId, percentage) {
            const element = document.getElementById(elementId);
            if (element) {
                const roundedPercentage = Math.round(percentage);
                element.style.width = roundedPercentage + '%';
                element.setAttribute('aria-valuenow', roundedPercentage);
                element.textContent = roundedPercentage + '%';
            }
        }

        // Load data and create charts when page loads
        document.addEventListener('DOMContentLoaded', function() {
            loadReportData();
            calculateAndUpdateResults();
            createCharts();
        });
    </script>
</body>

</html></contents>
</xai:function_call">Creating a new report page with placeholder data that will be populated from the fingerprint selection.
